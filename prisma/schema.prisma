generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model data_report {
  message_id     String    @id
  username       String
  channel_id     String
  clan_id        String
  sender_id      String?
  display_name   String?
  sender_username String?

  // Preferences from reply message (form inputs)
  project_label  String?
  project_value  String?
  task_label     String?
  task_value     String?
  work_type      String?
  default_working_time Int?
  
  // Output data from update message
  date           DateTime? @db.Date
  yesterday      String?
  today          String?
  block          String?
  working_time   String?
  
  // Raw JSON data for reference
  reply_data     Json?
  update_data    Json?
  
  // Validation status
  is_valid       Boolean   @default(true)
  
  create_time    DateTime  @default(now())
  update_time    DateTime? @updatedAt

  @@index([create_time])

  @@map("data_reports")
}
